<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Entre la multitud</title>
  <style>
    body {
      margin: 0;
      background: #f2f2f2;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: Arial, sans-serif;
    }canvas {
  background: #ffffff;
  box-shadow: 0 10px 30px rgba(0,0,0,0.15);
  border-radius: 12px;
}

  </style>
</head>
<body>
  <canvas id="scene" width="800" height="500"></canvas>  <script>
    const canvas = document.getElementById('scene');
    const ctx = canvas.getContext('2d');

    const whiteFigures = [];
    const totalWhites = 260;

    for (let i = 0; i < totalWhites; i++) {
      whiteFigures.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: 6,
        drift: (Math.random() - 0.5) * 0.2,
        phase: Math.random() * Math.PI * 2
      });
    }

    let blackFigure = {
      x: -30,
      y: canvas.height / 2,
      r: 8,
      baseSpeed: 1.1,
      t: 0,
      pause: 0
    };

    function drawFigure(fig, color) {
      ctx.beginPath();
      ctx.arc(fig.x, fig.y - fig.r, fig.r, 0, Math.PI * 2);
      ctx.fillStyle = color;
      ctx.fill();

      ctx.beginPath();
      ctx.moveTo(fig.x, fig.y);
      ctx.lineTo(fig.x, fig.y + fig.r * 2);
      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Multitud blanca: leve oscilación, casi imperceptible
      whiteFigures.forEach(f => {
        f.phase += 0.01;
        f.y += Math.sin(f.phase) * f.drift;
        drawFigure(f, '#e3e3e3');
      });

      // Ritmo cambiante del muñeco negro
      blackFigure.t += 0.01;

      let speedVariation = Math.sin(blackFigure.t) * 0.6;
      let speed = blackFigure.baseSpeed + speedVariation;

      // Pausas breves, como dudas o resistencia
      if (Math.random() < 0.002) {
        blackFigure.pause = 40 + Math.random() * 40;
      }

      if (blackFigure.pause > 0) {
        blackFigure.pause--;
      } else {
        blackFigure.x += speed;
      }

      drawFigure(blackFigure, '#000000');

      if (blackFigure.x > canvas.width + 40) {
        blackFigure.x = -40;
      }

      requestAnimationFrame(animate);
    }

    animate();
  </script></body>
</html>
